(this.webpackJsonpblackjack=this.webpackJsonpblackjack||[]).push([[0],{23:function(e,a,t){e.exports=t(34)},28:function(e,a,t){},34:function(e,a,t){"use strict";t.r(a);var r=t(0),c=t.n(r),n=t(20),l=t.n(n),s=(t(28),t(10)),d=t(3),o=t(7),m=t(8),i=t(11),u=t(9),h=t(12),b=function(e){function a(){var e,t;Object(o.a)(this,a);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(c)))).state={name:"",ready:!1,wrongName:!1},t.handleInputChange=function(e){t.setState({name:e.target.value})},t.handleSubmit=function(e){e.preventDefault();var a=t.state.name;a?(localStorage.setItem("name",a),t.setState({ready:!0,wrongName:!1})):t.setState({wrongName:!0})},t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){if(localStorage.setItem("name",""),!localStorage.getItem("highscores")){localStorage.setItem("highscores",JSON.stringify([{name:"Jerry",score:1225},{name:"Merry",score:1e3},{name:"Donald",score:225},{name:"Alicia",score:50}]))}}},{key:"render",value:function(){var e=this.state,a=e.name,t=e.ready,r=e.wrongName;return t?c.a.createElement(d.a,{to:"/game"}):c.a.createElement("div",{className:"start-page row"},c.a.createElement("div",{className:"col-md-12 col-xs-12"},c.a.createElement("h1",null,"BlackJack")),c.a.createElement("div",{className:"col-md-12 col-xs-12"},c.a.createElement("form",{onSubmit:this.handleSubmit},c.a.createElement("label",null,c.a.createElement("span",{className:"input-header"},"Nick:"),c.a.createElement("input",{type:"text",value:a,onChange:this.handleInputChange}),r?c.a.createElement("span",{className:"validation-message"},"Nick is required"):null),c.a.createElement("input",{className:"play-button",type:"submit",value:"Play"}))),c.a.createElement("div",{className:"mx-auto"},c.a.createElement(s.b,{to:"/highscores"},c.a.createElement("button",{className:"game-button"},"Highscores"))))}}]),a}(r.Component),g=t(14),p=function(e){return c.a.createElement("div",{className:e.className})},E=function(e){var a=e.cards.map((function(e,a){return c.a.createElement(p,{key:a,className:e.cardClass})}));return c.a.createElement("div",{className:"hand"},a)},y=function(e){var a=e.cards;return c.a.createElement("div",{className:"hand"},a.map((function(e,a){return c.a.createElement(p,{key:a,className:e.cardClass})})),c.a.createElement(p,{key:"5",className:a[1]?a[1].cardClass:"cards card-back"}))},C=function(e){var a=e.bet,t=e.money,r=e.betLess,n=e.betMore,l=e.letsPlay;return c.a.createElement("div",{className:"bet-container"},c.a.createElement("div",null,c.a.createElement("h3",null,"Your money: ",t)),c.a.createElement("div",null,c.a.createElement("button",{className:"game-button",disabled:5===a,onClick:r},"-"),c.a.createElement("span",{className:"bet"},a),c.a.createElement("button",{className:"game-button",disabled:a>=200||a===t,onClick:n},"+")),c.a.createElement("button",{className:"game-button bet-button",onClick:l},"Play"))},v=[{cardID:"9C",cardClass:"cards card-9C",cardValue:9},{cardID:"9D",cardClass:"cards card-9D",cardValue:9},{cardID:"9H",cardClass:"cards card-9H",cardValue:9},{cardID:"9S",cardClass:"cards card-9S",cardValue:9},{cardID:"10C",cardClass:"cards card-10C",cardValue:10},{cardID:"10D",cardClass:"cards card-10D",cardValue:10},{cardID:"10H",cardClass:"cards card-10H",cardValue:10},{cardID:"10S",cardClass:"cards card-10S",cardValue:10},{cardID:"JC",cardClass:"cards card-JC",cardValue:2},{cardID:"JD",cardClass:"cards card-JD",cardValue:2},{cardID:"JH",cardClass:"cards card-JH",cardValue:2},{cardID:"JS",cardClass:"cards card-JS",cardValue:2},{cardID:"QC",cardClass:"cards card-QC",cardValue:3},{cardID:"QD",cardClass:"cards card-QD",cardValue:3},{cardID:"QH",cardClass:"cards card-QH",cardValue:3},{cardID:"QS",cardClass:"cards card-QS",cardValue:3},{cardID:"KC",cardClass:"cards card-KC",cardValue:4},{cardID:"KD",cardClass:"cards card-KD",cardValue:4},{cardID:"KH",cardClass:"cards card-KH",cardValue:4},{cardID:"KS",cardClass:"cards card-KS",cardValue:4},{cardID:"AC",cardClass:"cards card-AC",cardValue:11},{cardID:"AD",cardClass:"cards card-AD",cardValue:11},{cardID:"AH",cardClass:"cards card-AH",cardValue:11},{cardID:"AS",cardClass:"cards card-AS",cardValue:11}],f=function(e){function a(){var e,t;Object(o.a)(this,a);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(c)))).state={gameStarted:!1,bet:5,deck:Object(g.a)(v),playerCards:[],dealerCards:[],money:100,playerScore:0,dealerScore:0,playerWin:!1,dealerWin:!1,playerName:"",draw:!1,finish:!1},t.betLess=function(){t.state.bet>=1&&t.setState((function(e){return{bet:e.bet-5}}))},t.betMore=function(){t.state.bet<=t.state.money&&t.setState((function(e){return{bet:e.bet+5}}))},t.letsPlay=function(){t.setState({gameStarted:!0})},t.getRandomCards=function(){for(var e=0;e<2;e++)setTimeout(t.getPlayerCard,100);t.getDealerCard()},t.getDealerCard=function(){var e=t.state,a=e.deck,r=e.dealerCards,c=e.playerScore,n=e.money,l=e.bet,s=t.state.dealerScore,d=a.length>0?a:Object(g.a)(v),o=Math.floor(Math.random()*d.length);s+=d[o].cardValue,r.push(d[o]),d.splice(o,1);var m={dealerScore:s,dealerCards:r,deck:d,bet:5};if(2===r.length){if(21!==c&&s<15){var i=Math.floor(Math.random()*d.length);s+=d[i].cardValue,r.push(d[i]),d.splice(i,1),m.deck=d,m.dealerCards=r,m.dealerScore=s,t.setState(m)}s===c&&s<21&&c<21?(m.draw=!0,m.money=n+l):21===c||s<c&&c<21||s>21&&c<21?(m.playerWin=!0,m.money=n+2*l):(21===s||s>c&&s<21||c>21)&&(m.dealerWin=!0,m.money=n-l)}0===n&&t.endGame(),t.setState(m)},t.startNewGame=function(){t.setState({gameStarted:!1,deck:[],playerCards:[],dealerCards:[],playerScore:0,dealerScore:0,playerWin:!1,dealerWin:!1,draw:!1})},t.getPlayerCard=function(){var e=t.state,a=e.deck,r=e.playerCards,c=e.bet,n=t.state,l=n.playerScore,s=n.playerWin,d=n.dealerWin,o=n.money,m=a.length>0?a:Object(g.a)(v),i=Math.floor(Math.random()*m.length);l+=m[i].cardValue,r.push(m[i]),m.splice(i,1),21===l&&(s=!0,o+=2*c),l>21&&(d=!0,o-=c),t.setState({deck:m,playerCards:r,playerScore:l,playerWin:s,dealerWin:d,money:o})},t.endRound=function(){t.getDealerCard()},t.endGame=function(){var e=t.state,a=e.playerName,r=e.money,c=JSON.parse(localStorage.getItem("highscores"));c.push({name:a,score:r}),localStorage.setItem("highscores",JSON.stringify(c)),t.setState({finish:!0})},t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getRandomCards(4);var e=localStorage.getItem("name");this.setState({playerName:e})}},{key:"componentDidUpdate",value:function(){0===this.state.deck.length&&this.getRandomCards()}},{key:"render",value:function(){var e=this.state,a=e.gameStarted,t=e.bet,r=e.money,n=(e.playerName,e.dealerScore),l=e.playerScore,s=e.dealerCards,o=e.playerCards,m=e.playerWin,i=e.dealerWin,u=e.draw;return e.finish?c.a.createElement(d.a,{to:"/highscores"}):a?c.a.createElement("div",{className:"col-md-12 col-xs-12"},c.a.createElement(y,{cards:s}),c.a.createElement("div",{className:"panel"},c.a.createElement("h3",null,"Dealer's score: ",n)),c.a.createElement(E,{cards:o}),u||m||i?c.a.createElement("div",{className:"game-status"},i?c.a.createElement("div",{className:"info lose"},"You lost."):null,m?c.a.createElement("div",{className:"info win"}," You won!"):null,u?c.a.createElement("div",{className:"info draw"},"Draw."):null,c.a.createElement("div",null,c.a.createElement("div",{className:"buttons"},c.a.createElement("button",{className:"game-button",onClick:this.startNewGame},"Play again"),c.a.createElement("button",{className:"game-button",onClick:this.endGame},"End game and save score")))):null,c.a.createElement("div",{className:"panel"},c.a.createElement("h3",null,"Your score: ",l)),c.a.createElement("div",{className:"panel"},c.a.createElement("button",{className:"game-button",onClick:this.getPlayerCard,disabled:l>20||m||i||u},"Get card"),c.a.createElement("button",{className:"game-button",onClick:this.endRound,disabled:l>20||m||i||u},"End round"))):c.a.createElement(C,{bet:t,money:r,betLess:this.betLess,betMore:this.betMore,letsPlay:this.letsPlay})}}]),a}(r.Component),S=function(e){function a(){var e,t;Object(o.a)(this,a);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(c)))).state={highscores:[]},t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){if(0===this.state.highscores.length){var e=JSON.parse(localStorage.getItem("highscores"));e.sort((function(e,a){return e.score>a.score?-1:a.score>e.score?1:0})),this.setState({highscores:e})}}},{key:"render",value:function(){var e=this.state.highscores.map((function(e,a){return c.a.createElement("tr",{key:a},c.a.createElement("td",null,a+1),c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.score))}));return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12 text-center mt-5"},c.a.createElement(s.b,{to:"/"},c.a.createElement("button",{className:"game-button"},"Start Page"))),c.a.createElement("div",{className:"col-md-8 mx-auto mt-5 text-center"},c.a.createElement("div",{className:"mb-3"},c.a.createElement("h2",null,"Top 10")),c.a.createElement("table",{className:"table table-striped table-dark"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Place"),c.a.createElement("th",null,"Nick"),c.a.createElement("th",null,"Score"))),c.a.createElement("tbody",null,e))))}}]),a}(r.Component);var N=function(){return c.a.createElement(s.a,{basename:"/"},c.a.createElement(d.b,{path:"/",exact:!0,component:b}),c.a.createElement(d.b,{path:"/game",exact:!0,component:f}),c.a.createElement(d.b,{path:"/highscores",exact:!0,component:S}))};l.a.render(c.a.createElement(N,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.d9ac5baa.chunk.js.map